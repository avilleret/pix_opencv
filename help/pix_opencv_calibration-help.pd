#N canvas 479 182 1188 820 10;
#X obj 20 223 cnv 15 430 580 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 20 177 cnv 15 430 40 empty empty empty 20 12 0 14 -195568 -66577
0;
#X text 29 181 Arguments:;
#X obj 19 81 cnv 15 430 90 empty empty empty 20 12 0 14 -233017 -66577
0;
#X text 24 45 Class: pix_opencv;
#X text 25 29 Synopsis: [pix_opencv_calibration];
#X text 37 227 getting started with camera calibration :;
#X text 65 313 3 Check calibration toggle to start and move the chessboard
in front of the camera (or move the camera in front of your screen).
Your computer may slow down during searching chessboard corners. When
all corners are found it takes a snapshot (and the image will be negative)
;
#X text 65 293 2 Plug a supported camera and start rendering;
#X text 66 263 1 Print the chessboard ona rigid paperboard (or just
show it on the screen);
#X text 65 384 4 When enought chessboard have been found (20 by default)
it computes transformation matrix and map to undistord the image;
#X text 65 434 5 Then all incoming images are undistord \, you can
save the transformation and distorsion matrix to files to load it next
times;
#X text 31 477 for more information about this calibration see :;
#X text 41 517 - A flexible new technique for camera calibration \,
Zhang \, 1998 \, Microsoft Research;
#X text 41 497 - Learning Opencv \, Bradski and Kaehler \, 2008 \,
O'Reilly;
#X text 50 201 none;
#X obj 455 2 cnv 15 720 800 empty empty empty 20 12 0 14 -228992 -66577
0;
#X obj 615 564 cnv 15 400 160 empty empty empty 20 12 0 14 -4034 -66577
0;
#X obj 815 30 gemhead;
#X obj 619 759 pix_texture;
#X obj 795 728 cnv 15 220 70 empty empty empty 20 12 0 14 -195568 -66577
0;
#N canvas 3 81 454 304 gemwin 0;
#X obj 67 89 outlet;
#X obj 67 10 inlet;
#X obj 65 41 route create;
#X msg 67 70 set destroy;
#X msg 182 68 set create;
#N canvas 87 154 247 179 Gem.init 0;
#X obj 118 46 loadbang;
#X msg 118 81 reset;
#X obj 118 113 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 289 80 pd Gem.init;
#X obj 162 241 gemwin;
#X msg 342 184 destroy;
#X msg 283 161 frame 25;
#X obj 164 126 t b b b;
#X msg 161 189 dimen 640 560 \, create \, 1;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 9 0;
#X connect 2 1 4 0;
#X connect 2 1 7 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X connect 9 0 10 0;
#X connect 9 2 8 0;
#X connect 10 0 6 0;
#X restore 805 774 pd gemwin;
#X msg 805 754 destroy;
#X obj 485 760 pix_texture;
#X obj 619 406 separator;
#X obj 827 57 bng 25 250 50 0 load empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 884 232 bng 15 250 50 0 empty empty end_reached 20 7 0 10 -262144
-1 -1;
#X floatatom 866 197 5 0 10000 1 frame# - -;
#X obj 827 86 openpanel;
#X msg 827 106 open \$1;
#X obj 815 215 pix_film;
#X msg 833 149 auto \$1;
#X obj 833 131 tgl 15 0 empty empty empty 0 -6 0 8 -262144 -1 -1 1
1;
#X text 803 734 Create window and render;
#X msg 928 132 colorspace RGBA;
#X msg 942 155 colorspace RGB;
#X msg 957 177 colorspace Grey;
#X obj 928 104 loadbang;
#X obj 619 387 pix_separator;
#X obj 485 407 separator;
#X obj 485 388 pix_separator;
#N canvas 1 184 299 199 vswitch 0;
#X obj 36 128 outlet;
#X obj 36 26 inlet;
#X obj 130 26 inlet;
#X obj 175 27 inlet;
#X obj 81 61 == 0;
#X obj 36 83 spigot 1;
#X obj 130 84 spigot 0;
#X connect 1 0 5 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 3 0 6 1;
#X connect 4 0 5 1;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X restore 485 257 pd vswitch;
#X obj 581 258 tgl 15 0 empty load empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 485 224 pix_video;
#X obj 485 30 gemhead;
#X msg 504 102 dimen 640 480;
#X msg 502 77 dimen 320 240;
#X text 681 622 load distorsion coefficients and intrinsic matrix;
#X msg 531 172 driver v4l2;
#X msg 515 125 driver dc1394 \, dimen 640 480 \, colorspace grey;
#X msg 540 193 driver dc1394;
#X obj 619 684 pix_opencv_calibration;
#X obj 485 355 pix_grey;
#X obj 485 426 translateXYZ 0 -2 0;
#X obj 619 426 translateXYZ 0 2 0;
#X obj 485 780 rectangle 2.666 2;
#X obj 619 780 rectangle 2.666 2;
#X msg 682 641 loadDist \$1;
#X msg 698 661 loadIntra \$1;
#X msg 652 581 writeDist \$1;
#X msg 663 603 writeIntra \$1;
#X text 651 562 write distorsion coefficients and intrinsic matrix
;
#X obj 746 307 cnv 15 420 240 empty empty empty 20 12 0 14 -4034 -66577
0;
#X obj 754 318 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 754 338 calibration \$1;
#X msg 754 382 view \$1;
#X text 793 360 number of view to take during calibration;
#X floatatom 754 364 5 0 0 0 - - -;
#X obj 754 423 pack f f;
#X msg 754 443 patternSize \$1 \$2;
#X floatatom 754 405 5 0 0 0 - - -;
#X floatatom 807 405 5 0 0 0 - - -;
#X text 844 401 number of inner corners on the chessboard;
#N canvas 130 67 612 325 advance-options 0;
#X msg 55 161 findChessFlag \$1 \$2 \$3;
#X obj 68 91 t b f;
#X obj 55 142 pack f f f;
#X obj 118 111 t b f;
#X obj 55 51 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 68 71 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 118 91 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 55 267 outlet;
#X text 53 27 findChessBoardCorner option;
#X text 75 50 CV_CALIB_CB_ADAPTIVE_TRESH : adaptive threhold (default
1);
#X text 84 70 CV_CALIB_CB_NORMALIZE_IMAGE : normalize image (default
0);
#X text 135 91 CV_CALIB_CB_FILTER_QUADS: advance filtering (default
1);
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 3 1 2 2;
#X connect 4 0 2 0;
#X connect 5 0 1 0;
#X connect 6 0 3 0;
#X restore 753 505 pd advance-options;
#X floatatom 754 464 5 0 0 0 - - -;
#X msg 754 482 wait \$1;
#X text 792 463 number of frame to wait between two takes during calibration
;
#X text 773 318 start callibration;
#X obj 544 356 pix_rgba;
#X obj 485 330 spigot 1;
#X text 598 256 switch source (camera / film);
#X obj 530 285 tgl 15 0 empty load empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 547 283 switch color mode ( grey / rgba );
#X msg 524 149 device 1;
#X obj 530 308 == 0;
#X obj 544 330 spigot 0;
#X msg 753 525 reset;
#X text 797 524 reset corrections;
#X obj 748 706 print;
#X text 784 706 print some infos;
#X obj 635 541 t a;
#X text 26 90 Description: pix_opencv_calibration does camera calibration.
You need to move a checkboard in front of the camera during the calibration.
;
#X connect 18 0 30 0;
#X connect 19 0 56 0;
#X connect 21 0 22 0;
#X connect 22 0 21 0;
#X connect 23 0 55 0;
#X connect 24 0 54 0;
#X connect 25 0 28 0;
#X connect 26 0 27 0;
#X connect 27 0 30 1;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 41 1;
#X connect 30 2 26 0;
#X connect 31 0 30 0;
#X connect 32 0 31 0;
#X connect 34 0 30 0;
#X connect 34 0 43 0;
#X connect 35 0 30 0;
#X connect 36 0 30 0;
#X connect 37 0 34 0;
#X connect 37 0 32 0;
#X connect 38 0 24 0;
#X connect 39 0 53 0;
#X connect 40 0 39 0;
#X connect 41 0 79 0;
#X connect 41 0 85 0;
#X connect 42 0 41 2;
#X connect 43 0 41 0;
#X connect 44 0 43 0;
#X connect 45 0 43 0;
#X connect 46 0 43 0;
#X connect 48 0 43 0;
#X connect 49 0 43 0;
#X connect 50 0 43 0;
#X connect 51 0 19 0;
#X connect 51 1 88 0;
#X connect 52 0 40 0;
#X connect 52 0 38 0;
#X connect 53 0 23 0;
#X connect 54 0 51 0;
#X connect 57 0 51 0;
#X connect 58 0 51 0;
#X connect 59 0 51 0;
#X connect 60 0 51 0;
#X connect 63 0 64 0;
#X connect 64 0 90 0;
#X connect 65 0 90 0;
#X connect 67 0 65 0;
#X connect 68 0 69 0;
#X connect 69 0 90 0;
#X connect 70 0 68 0;
#X connect 71 0 68 1;
#X connect 73 0 90 0;
#X connect 74 0 75 0;
#X connect 75 0 90 0;
#X connect 78 0 40 0;
#X connect 78 0 38 0;
#X connect 79 0 52 0;
#X connect 81 0 84 0;
#X connect 81 0 85 1;
#X connect 83 0 43 0;
#X connect 84 0 79 1;
#X connect 85 0 78 0;
#X connect 86 0 90 0;
#X connect 90 0 51 0;
